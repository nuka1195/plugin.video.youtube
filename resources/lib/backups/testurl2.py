swfArgs = { "fmt_url_map": "18%7Chttp%3A//v21.lscache8.c.youtube.com/videoplayback%3Fip%3D0.0.0.0%26sparams%3Did%252Cexpire%252Cip%252Cipbits%252Citag%252Cburst%252Cfactor%26itag%3D18%26ipbits%3D0%26signature%3D11E4C75FE8ED91CC5E64BDC8C8FE5CD4C3B3A8E3.19B074AE4C594F0E9F827FD7F0FDC44FAAA3DEC7%26sver%3D3%26expire%3D1250740800%26key%3Dyt1%26factor%3D1.25%26burst%3D40%26id%3Dfb1133188b98ee4c%2C34%7Chttp%3A//v13.lscache8.c.youtube.com/videoplayback%3Fip%3D0.0.0.0%26sparams%3Did%252Cexpire%252Cip%252Cipbits%252Citag%252Cburst%252Cfactor%26itag%3D34%26ipbits%3D0%26signature%3D8343E4CB19A66E66756797C752D99C5F297D7B25.5FBED625DDF0E3608C0EB03715371D390E7F79F6%26sver%3D3%26expire%3D1250740800%26key%3Dyt1%26factor%3D1.25%26burst%3D40%26id%3Dfb1133188b98ee4c%2C5%7Chttp%3A//v15.lscache2.c.youtube.com/videoplayback%3Fip%3D0.0.0.0%26sparams%3Did%252Cexpire%252Cip%252Cipbits%252Citag%252Cburst%252Cfactor%26itag%3D5%26ipbits%3D0%26signature%3D20626A7F5BAA5D3B01969626DFE260FE115594E9.AF522D98F7222413F9E1467159414D88E72A892F%26sver%3D3%26expire%3D1250740800%26key%3Dyt1%26factor%3D1.25%26burst%3D40%26id%3Dfb1133188b98ee4c", "t": "vjVQa1PpcFPNjNP0bRkXyZ7BiMOE3WSK4G99cA4rxF0=", "video_id": "-xEzGIuY7kw" }
#swfArgs = {"rv.2.thumbnailUrl": "http%3A//i1.ytimg.com/vi/L-kbdD4YmVw/default.jpg", "rv.7.length_seconds": "2850", "rv.0.url": "http%3A//www.youtube.com/watch%3Fv%3D75YZmKNP--4", "rv.0.view_count": "2585", "cbs_ad_playlist_url": "http://www.cbs.com/thunder/feeds/playlist.php?cid=687082761&part=ytube&domain=youtube.com", "rv.2.title": "Blind%20Faith", "rv.4.rating": "5.0", "rv.3.view_count": "1282", "rv.0.length_seconds": "2869", "rv.4.thumbnailUrl": "http%3A//i4.ytimg.com/vi/GFP4R-6dbc4/default.jpg", "rv.2.length_seconds": "2836", "keywords": "", "rec_key": "07953471D32DBC02-2300F98AFA1AA4BA", "rv.1.url": "http%3A//www.youtube.com/watch%3Fv%3DMbhWpoHiQGM", "rv.6.thumbnailUrl": "http%3A//i4.ytimg.com/vi/gALYPqwKX_w/default.jpg", "rv.3.rating": "5.0", "rv.4.author": "CBS", "rv.0.rating": "5.0", "rv.6.author": "CBS", "rv.5.id": "VouSOhwHXUw", "tk": "gumwu7cnzLclg-ssHo4FnYMx7ZGXmG_hogdOhoVIdkogP3cJcxktXw==", "rv.0.id": "75YZmKNP--4", "video_recorder_module": "http://s.ytimg.com/yt/swf/video_recorder_module-vfl99752.swf", "rec_v": "SMwh6zK1-QU", "rv.5.url": "http%3A//www.youtube.com/watch%3Fv%3DVouSOhwHXUw", "rv.6.length_seconds": "2896", "rec_server": "sjl-webcam1.sjl.youtube.com:80", "rv.3.thumbnailUrl": "http%3A//i4.ytimg.com/vi/_bPUcXmhxeU/default.jpg", "rv.2.author": "CBS", "rv.6.url": "http%3A//www.youtube.com/watch%3Fv%3DgALYPqwKX_w", "fmt_map": "", "hl": "en", "rv.3.id": "_bPUcXmhxeU", "iurl": "http://s.ytimg.com/yt/swf/cbs_preload-vfl70493.swf", "rec_keywords": "", "rv.0.thumbnailUrl": "http%3A//i4.ytimg.com/vi/75YZmKNP--4/default.jpg", "rv.5.length_seconds": "2894", "rv.7.author": "CBS", "rv.5.view_count": "362004", "rv.1.length_seconds": "2872", "record": "1", "rv.1.author": "CBS", "t": "vjVQa1PpcFPUbxpwvwCxEus59hOS-8mE7E7DM8UyZEM=", "rv.6.id": "gALYPqwKX_w", "rv.6.view_count": "320985", "rv.3.author": "CBS", "rv.4.id": "GFP4R-6dbc4", "rv.1.view_count": "985", "stream": "vp/id/48cc21eb32b5f905/itag/35", "rv.7.thumbnailUrl": "http%3A//i3.ytimg.com/vi/Jo_Bob2nzkQ/default.jpg", "vq": "0", "rv.2.rating": "5.0", "rv.7.title": "Faith%2C%20Hope%20%26%20Charity", "cr": "US", "conn": "rtmpe%3A//cp59009.edgefcs.net/youtube%3Fauth%3DdaEdfagbFagdCbicEcrcYdhb7a_aQc4cncu-bkJhvu-eS-MxJDEkte%26aifp%3DYT2008121701%26slist%3Dvp/id/48cc21eb32b5f905/itag/35", "rv.1.id": "MbhWpoHiQGM", "rv.6.title": "The%20Golden%20Triangle", "rv.4.length_seconds": "2870", "ad_logging_flag": 1, "rv.1.thumbnailUrl": "http%3A//i2.ytimg.com/vi/MbhWpoHiQGM/default.jpg", "rv.3.title": "Deadly%20Dreams", "length_seconds": 2870, "rv.2.id": "L-kbdD4YmVw", "rv.0.title": "Good%20Knight%20MacGyver%2C%20Part%201", "plid": "AARxhblRtSznSPuJ", "rv.5.rating": "4.80740740741", "mpvid": "AARxhblSgiCkKfsg", "rv.0.author": "CBS", "rv.4.url": "http%3A//www.youtube.com/watch%3Fv%3DGFP4R-6dbc4", "usef": 0, "rv.1.rating": "5.0", "rv.4.title": "Trail%20of%20Tears", "rv.5.thumbnailUrl": "http%3A//i3.ytimg.com/vi/VouSOhwHXUw/default.jpg", "watermark": "http://s.ytimg.com/yt/swf/logo-vfl106645.swf,http://s.ytimg.com/yt/swf/hdlogo-vfl100714.swf", "rec_title": "Re%3A%20The%20%27Hood", "rv.7.rating": "5.0", "rv.3.url": "http%3A//www.youtube.com/watch%3Fv%3D_bPUcXmhxeU", "rv.2.url": "http%3A//www.youtube.com/watch%3Fv%3DL-kbdD4YmVw", "rec_descr": "Video Cam Direct Upload", "rv.7.url": "http%3A//www.youtube.com/watch%3Fv%3DJo_Bob2nzkQ", "rv.2.view_count": "943", "rv.7.id": "Jo_Bob2nzkQ", "rv.4.view_count": "862", "ad_module": "http://s.ytimg.com/yt/swf/ad-vfl114613.swf", "video_id": "SMwh6zK1-QU", "rv.5.title": "Pilot", "rv.6.rating": "4.68292682927", "sk": "m2UftzsGYASi5CXM8R7AJhsUzWdHimu-U", "rv.1.title": "Passages", "rv.7.view_count": "908", "rec_categories": "1", "rv.3.length_seconds": "2920", "rv.5.author": "CBS", "autoplay": 0};
swfArgs = {"rv.2.thumbnailUrl": "http%3A//i1.ytimg.com/vi/L-kbdD4YmVw/default.jpg", "rv.7.length_seconds": "2850", "rv.0.url": "http%3A//www.youtube.com/watch%3Fv%3D75YZmKNP--4", "rv.0.view_count": "2585", "cbs_ad_playlist_url": "http://www.cbs.com/thunder/feeds/playlist.php?cid=687082761&part=ytube&domain=youtube.com", "rv.2.title": "Blind%20Faith", "rv.4.rating": "5.0", "rv.3.view_count": "1282", "rv.0.length_seconds": "2869", "rv.4.thumbnailUrl": "http%3A//i4.ytimg.com/vi/GFP4R-6dbc4/default.jpg", "rv.2.length_seconds": "2836", "keywords": "", "rec_key": "07953471D32DBC02-2300F98AFA1AA4BA", "rv.1.url": "http%3A//www.youtube.com/watch%3Fv%3DMbhWpoHiQGM", "rv.6.thumbnailUrl": "http%3A//i4.ytimg.com/vi/gALYPqwKX_w/default.jpg", "rv.3.rating": "5.0", "rv.4.author": "CBS", "rv.0.rating": "5.0", "rv.6.author": "CBS", "rv.5.id": "VouSOhwHXUw", "tk": "gumwu7cnzLclg-ssHo4FnYMx7ZGXmG_hogdOhoVIdkogP3cJcxktXw==", "rv.0.id": "75YZmKNP--4", "video_recorder_module": "http://s.ytimg.com/yt/swf/video_recorder_module-vfl99752.swf", "rec_v": "SMwh6zK1-QU", "rv.5.url": "http%3A//www.youtube.com/watch%3Fv%3DVouSOhwHXUw", "rv.6.length_seconds": "2896", "rec_server": "sjl-webcam1.sjl.youtube.com:80", "rv.3.thumbnailUrl": "http%3A//i4.ytimg.com/vi/_bPUcXmhxeU/default.jpg", "rv.2.author": "CBS", "rv.6.url": "http%3A//www.youtube.com/watch%3Fv%3DgALYPqwKX_w", "fmt_map": "", "hl": "en", "rv.3.id": "_bPUcXmhxeU", "iurl": "http://s.ytimg.com/yt/swf/cbs_preload-vfl70493.swf", "rec_keywords": "", "rv.0.thumbnailUrl": "http%3A//i4.ytimg.com/vi/75YZmKNP--4/default.jpg", "rv.5.length_seconds": "2894", "rv.7.author": "CBS", "rv.5.view_count": "362004", "rv.1.length_seconds": "2872", "record": "1", "rv.1.author": "CBS", "t": "vjVQa1PpcFPUbxpwvwCxEus59hOS-8mE7E7DM8UyZEM=", "rv.6.id": "gALYPqwKX_w", "rv.6.view_count": "320985", "rv.3.author": "CBS", "rv.4.id": "GFP4R-6dbc4", "rv.1.view_count": "985", "stream": "vp/id/48cc21eb32b5f905/itag/35", "rv.7.thumbnailUrl": "http%3A//i3.ytimg.com/vi/Jo_Bob2nzkQ/default.jpg", "vq": "0", "rv.2.rating": "5.0", "rv.7.title": "Faith%2C%20Hope%20%26%20Charity", "cr": "US", "conn": "rtmpe%3A//cp59009.edgefcs.net/youtube%3Fauth%3DdaEdfagbFagdCbicEcrcYdhb7a_aQc4cncu-bkJhvu-eS-MxJDEkte%26aifp%3DYT2008121701%26slist%3Dvp/id/48cc21eb32b5f905/itag/35", "rv.1.id": "MbhWpoHiQGM", "rv.6.title": "The%20Golden%20Triangle", "rv.4.length_seconds": "2870", "ad_logging_flag": 1, "rv.1.thumbnailUrl": "http%3A//i2.ytimg.com/vi/MbhWpoHiQGM/default.jpg", "rv.3.title": "Deadly%20Dreams", "length_seconds": 2870, "rv.2.id": "L-kbdD4YmVw", "rv.0.title": "Good%20Knight%20MacGyver%2C%20Part%201", "plid": "AARxhblRtSznSPuJ", "rv.5.rating": "4.80740740741", "mpvid": "AARxhblSgiCkKfsg", "rv.0.author": "CBS", "rv.4.url": "http%3A//www.youtube.com/watch%3Fv%3DGFP4R-6dbc4", "usef": 0, "rv.1.rating": "5.0", "rv.4.title": "Trail%20of%20Tears", "rv.5.thumbnailUrl": "http%3A//i3.ytimg.com/vi/VouSOhwHXUw/default.jpg", "watermark": "http://s.ytimg.com/yt/swf/logo-vfl106645.swf,http://s.ytimg.com/yt/swf/hdlogo-vfl100714.swf", "rec_title": "Re%3A%20The%20%27Hood", "rv.7.rating": "5.0", "rv.3.url": "http%3A//www.youtube.com/watch%3Fv%3D_bPUcXmhxeU", "rv.2.url": "http%3A//www.youtube.com/watch%3Fv%3DL-kbdD4YmVw", "rec_descr": "Video Cam Direct Upload", "rv.7.url": "http%3A//www.youtube.com/watch%3Fv%3DJo_Bob2nzkQ", "rv.2.view_count": "943", "rv.7.id": "Jo_Bob2nzkQ", "rv.4.view_count": "862", "ad_module": "http://s.ytimg.com/yt/swf/ad-vfl114613.swf", "video_id": "SMwh6zK1-QU", "rv.5.title": "Pilot", "rv.6.rating": "4.68292682927", "sk": "m2UftzsGYASi5CXM8R7AJhsUzWdHimu-U", "rv.1.title": "Passages", "rv.7.view_count": "908", "rec_categories": "1", "rv.3.length_seconds": "2920", "rv.5.author": "CBS", "autoplay": 0};
    
print swfArgs


if __name__ == "__main__":
    url = "http://www.youtube.com/watch?v=WIussgh00j8"
    url="http://www.youtube.com/watch?v=SMwh6zK1-QU"
    url ="http://www.youtube.com/watch?v=xXHy62bxoq8"
    #url = "http://www.youtube.com/watch?v=-xEzGIuY7kw"
    url = "http://www.youtube.com/watch?v=ao1JxzvoebI"
    client = YoutubeClient()
    # make the authentication call
    ##authkey, userid = client.authenticate( "nuka1195", "lslsj$$6545" )
    authkey = "Qyxfo8mDCvwb2XKBu6QRhxaPZx7I9zwGQPqXy-gUsggUK_ibcCFcp-ywLT3oCsEZQ1VWL0iZMQQ"
    # Youtube client
    client = YoutubeClient( client.BASE_USERS_URL, authkey )
    # fetch the videos
    # TODO: format=5, <- put this back if videos fail
    category="my_subscriptions"
    feeds = client.my_subscriptions( start__index=1, max__results=10)
    print feeds
    print feeds.keys()#['category', 'updated', 'title', 'author', 'yt$username', 'link', 'published', 'gd$feedLink', 'media$thumbnail', 'id']
    for feed in feeds[ "feed" ].get( "entry", [] ):
        print feed["author"]
        print feed["link"]
        print feed["media$thumbnail"]
        print feed["updated"]
        print feed["yt$username"]
        print feed["published"]
        print feed["gd$feedLink"]
        print feed["id"]

    # construct the video url with session id and get video details
    #url, title, director, genre, rating, runtime, count, date, thumbnail, plotoutline, video_id = client.construct_video_url( url, 18 )
    #print title
    #print url
		